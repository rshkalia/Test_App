<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=IBM437" http-equiv="Content-Type">

<title>class Heroku::Client - heroku-2.19.2 Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/heroku/client.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="Helpers.html">Heroku::Helpers</a>
  
  
  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-auth">::auth</a>
    
    <li><a href="#method-c-gem_version_string">::gem_version_string</a>
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-c-version">::version</a>
    
    <li><a href="#method-i-add_collaborator">#add_collaborator</a>
    
    <li><a href="#method-i-add_config_vars">#add_config_vars</a>
    
    <li><a href="#method-i-add_domain">#add_domain</a>
    
    <li><a href="#method-i-add_drain">#add_drain</a>
    
    <li><a href="#method-i-add_key">#add_key</a>
    
    <li><a href="#method-i-add_ssl">#add_ssl</a>
    
    <li><a href="#method-i-addons">#addons</a>
    
    <li><a href="#method-i-bounce">#bounce</a>
    
    <li><a href="#method-i-clear_config_vars">#clear_config_vars</a>
    
    <li><a href="#method-i-clear_ssl">#clear_ssl</a>
    
    <li><a href="#method-i-config_vars">#config_vars</a>
    
    <li><a href="#method-i-confirm_billing">#confirm_billing</a>
    
    <li><a href="#method-i-console">#console</a>
    
    <li><a href="#method-i-create">#create</a>
    
    <li><a href="#method-i-create_complete-3F">#create_complete?</a>
    
    <li><a href="#method-i-create_request">#create_request</a>
    
    <li><a href="#method-i-cron_logs">#cron_logs</a>
    
    <li><a href="#method-i-database_reset">#database_reset</a>
    
    <li><a href="#method-i-database_session">#database_session</a>
    
    <li><a href="#method-i-destroy">#destroy</a>
    
    <li><a href="#method-i-down">#down</a>
    
    <li><a href="#method-i-downgrade_addon">#downgrade_addon</a>
    
    <li><a href="#method-i-dynos">#dynos</a>
    
    <li><a href="#method-i-extract_warning">#extract_warning</a>
    
    <li><a href="#method-i-httpcache_purge">#httpcache_purge</a>
    
    <li><a href="#method-i-info">#info</a>
    
    <li><a href="#method-i-install_addon">#install_addon</a>
    
    <li><a href="#method-i-installed_addons">#installed_addons</a>
    
    <li><a href="#method-i-keys">#keys</a>
    
    <li><a href="#method-i-list">#list</a>
    
    <li><a href="#method-i-list_collaborators">#list_collaborators</a>
    
    <li><a href="#method-i-list_domains">#list_domains</a>
    
    <li><a href="#method-i-list_drains">#list_drains</a>
    
    <li><a href="#method-i-list_stacks">#list_stacks</a>
    
    <li><a href="#method-i-logs">#logs</a>
    
    <li><a href="#method-i-maintenance">#maintenance</a>
    
    <li><a href="#method-i-migrate_to_stack">#migrate_to_stack</a>
    
    <li><a href="#method-i-on_warning">#on_warning</a>
    
    <li><a href="#method-i-process">#process</a>
    
    <li><a href="#method-i-ps">#ps</a>
    
    <li><a href="#method-i-ps_restart">#ps_restart</a>
    
    <li><a href="#method-i-ps_run">#ps_run</a>
    
    <li><a href="#method-i-ps_scale">#ps_scale</a>
    
    <li><a href="#method-i-ps_stop">#ps_stop</a>
    
    <li><a href="#method-i-rake">#rake</a>
    
    <li><a href="#method-i-read_logs">#read_logs</a>
    
    <li><a href="#method-i-release">#release</a>
    
    <li><a href="#method-i-releases">#releases</a>
    
    <li><a href="#method-i-remove_all_keys">#remove_all_keys</a>
    
    <li><a href="#method-i-remove_collaborator">#remove_collaborator</a>
    
    <li><a href="#method-i-remove_config_var">#remove_config_var</a>
    
    <li><a href="#method-i-remove_domain">#remove_domain</a>
    
    <li><a href="#method-i-remove_domains">#remove_domains</a>
    
    <li><a href="#method-i-remove_drain">#remove_drain</a>
    
    <li><a href="#method-i-remove_key">#remove_key</a>
    
    <li><a href="#method-i-remove_ssl">#remove_ssl</a>
    
    <li><a href="#method-i-resource">#resource</a>
    
    <li><a href="#method-i-restart">#restart</a>
    
    <li><a href="#method-i-rollback">#rollback</a>
    
    <li><a href="#method-i-run_console_command">#run_console_command</a>
    
    <li><a href="#method-i-service">#service</a>
    
    <li><a href="#method-i-set_dynos">#set_dynos</a>
    
    <li><a href="#method-i-set_workers">#set_workers</a>
    
    <li><a href="#method-i-start">#start</a>
    
    <li><a href="#method-i-uninstall_addon">#uninstall_addon</a>
    
    <li><a href="#method-i-up">#up</a>
    
    <li><a href="#method-i-update">#update</a>
    
    <li><a href="#method-i-upgrade_addon">#upgrade_addon</a>
    
    <li><a href="#method-i-workers">#workers</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    
    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Heroku.html">Heroku</a>
  
    <li><a href="../Heroku/Auth.html">Heroku::Auth</a>
  
    <li><a href="../Heroku/BuiltinPlugin.html">Heroku::BuiltinPlugin</a>
  
    <li><a href="../Heroku/CLI.html">Heroku::CLI</a>
  
    <li><a href="../Heroku/Client.html">Heroku::Client</a>
  
    <li><a href="../Heroku/Client/AppCrashed.html">Heroku::Client::AppCrashed</a>
  
    <li><a href="../Heroku/Client/ConsoleSession.html">Heroku::Client::ConsoleSession</a>
  
    <li><a href="../Heroku/Client/JSON.html">Heroku::Client::JSON</a>
  
    <li><a href="../Heroku/Client/Rendezvous.html">Heroku::Client::Rendezvous</a>
  
    <li><a href="../Heroku/Client/Service.html">Heroku::Client::Service</a>
  
    <li><a href="../Heroku/Command.html">Heroku::Command</a>
  
    <li><a href="../Heroku/Command/Account.html">Heroku::Command::Account</a>
  
    <li><a href="../Heroku/Command/Addons.html">Heroku::Command::Addons</a>
  
    <li><a href="../Heroku/Command/Apps.html">Heroku::Command::Apps</a>
  
    <li><a href="../Heroku/Command/Auth.html">Heroku::Command::Auth</a>
  
    <li><a href="../Heroku/Command/Base.html">Heroku::Command::Base</a>
  
    <li><a href="../Heroku/Command/Base.html">Heroku::Command::BaseWithApp</a>
  
    <li><a href="../Heroku/Command/CommandFailed.html">Heroku::Command::CommandFailed</a>
  
    <li><a href="../Heroku/Command/Config.html">Heroku::Command::Config</a>
  
    <li><a href="../Heroku/Command/Db.html">Heroku::Command::Db</a>
  
    <li><a href="../Heroku/Command/Domains.html">Heroku::Command::Domains</a>
  
    <li><a href="../Heroku/Command/Drains.html">Heroku::Command::Drains</a>
  
    <li><a href="../Heroku/Command/Help.html">Heroku::Command::Help</a>
  
    <li><a href="../Heroku/Command/Keys.html">Heroku::Command::Keys</a>
  
    <li><a href="../Heroku/Command/Logs.html">Heroku::Command::Logs</a>
  
    <li><a href="../Heroku/Command/Maintenance.html">Heroku::Command::Maintenance</a>
  
    <li><a href="../Heroku/Command/Pg.html">Heroku::Command::Pg</a>
  
    <li><a href="../Heroku/Command/Pgbackups.html">Heroku::Command::Pgbackups</a>
  
    <li><a href="../Heroku/Command/Pgbackups/Display.html">Heroku::Command::Pgbackups::Display</a>
  
    <li><a href="../Heroku/Command/Pgbackups/Display/DataSource.html">Heroku::Command::Pgbackups::Display::DataSource</a>
  
    <li><a href="../Heroku/Command/Plugins.html">Heroku::Command::Plugins</a>
  
    <li><a href="../Heroku/Command/Ps.html">Heroku::Command::Ps</a>
  
    <li><a href="../Heroku/Command/Releases.html">Heroku::Command::Releases</a>
  
    <li><a href="../Heroku/Command/Run.html">Heroku::Command::Run</a>
  
    <li><a href="../Heroku/Command/Sharing.html">Heroku::Command::Sharing</a>
  
    <li><a href="../Heroku/Command/Ssl.html">Heroku::Command::Ssl</a>
  
    <li><a href="../Heroku/Command/Stack.html">Heroku::Command::Stack</a>
  
    <li><a href="../Heroku/Command/Status.html">Heroku::Command::Status</a>
  
    <li><a href="../Heroku/Command/Update.html">Heroku::Command::Update</a>
  
    <li><a href="../Heroku/Command/Version.html">Heroku::Command::Version</a>
  
    <li><a href="../Heroku/Deprecated.html">Heroku::Deprecated</a>
  
    <li><a href="../Heroku/Deprecated/Help.html">Heroku::Deprecated::Help</a>
  
    <li><a href="../Heroku/Deprecated/Help/ClassMethods.html">Heroku::Deprecated::Help::ClassMethods</a>
  
    <li><a href="../Heroku/Deprecated/Help/HelpGroup.html">Heroku::Deprecated::Help::HelpGroup</a>
  
    <li><a href="../Heroku/Distribution.html">Heroku::Distribution</a>
  
    <li><a href="../Heroku/Helpers.html">Heroku::Helpers</a>
  
    <li><a href="../Heroku/OkJson.html">Heroku::OkJson</a>
  
    <li><a href="../Heroku/OkJson/ParserError.html">Heroku::OkJson::ParserError</a>
  
    <li><a href="../Heroku/Plugin.html">Heroku::Plugin</a>
  
    <li><a href="../Heroku/Updater.html">Heroku::Updater</a>
  
    <li><a href="../HerokuPostgresql.html">HerokuPostgresql</a>
  
    <li><a href="../HerokuPostgresql/Client.html">HerokuPostgresql::Client</a>
  
    <li><a href="../HerokuSharedPostgresql.html">HerokuSharedPostgresql</a>
  
    <li><a href="../HerokuSharedPostgresql/Client.html">HerokuSharedPostgresql::Client</a>
  
    <li><a href="../PGBackups.html">PGBackups</a>
  
    <li><a href="../PGBackups/Client.html">PGBackups::Client</a>
  
    <li><a href="../PGResolver.html">PGResolver</a>
  
    <li><a href="../PGResolver/Resolver.html">PGResolver::Resolver</a>
  
    <li><a href="../PgUtils.html">PgUtils</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Heroku::Client</h1>

  <div id="description" class="description">
    
<p>A Ruby class to call the <a href="../Heroku.html">Heroku</a> REST API.  You
might use this if you want to manage your <a
href="../Heroku.html">Heroku</a> apps from within a Ruby program, such as
Capistrano.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'heroku'</span>
<span class="ruby-identifier">heroku</span> = <span class="ruby-constant">Heroku</span><span class="ruby-operator">::</span><span class="ruby-constant">Client</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'me@example.com'</span>, <span class="ruby-string">'mypass'</span>)
<span class="ruby-identifier">heroku</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">'myapp'</span>)
</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">auth</span><span
            class="method-args">(user, password, host=Heroku::Auth.default_host)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="auth-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 33</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">auth</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span>, <span class="ruby-identifier">host</span>=<span class="ruby-constant">Heroku</span><span class="ruby-operator">::</span><span class="ruby-constant">Auth</span>.<span class="ruby-identifier">default_host</span>)
  <span class="ruby-identifier">client</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span>, <span class="ruby-identifier">host</span>)
  <span class="ruby-identifier">json_decode</span> <span class="ruby-identifier">client</span>.<span class="ruby-identifier">post</span>(<span class="ruby-string">'/login'</span>, { <span class="ruby-value">:username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user</span>, <span class="ruby-value">:password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">password</span> }, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'json'</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- auth-source -->
          
        </div>

        

        
      </div><!-- auth-method -->

    
      <div id="method-c-gem_version_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">gem_version_string</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="gem_version_string-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">gem_version_string</span>
  <span class="ruby-node">&quot;heroku-gem/#{version}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- gem_version_string-source -->
          
        </div>

        

        
      </div><!-- gem_version_string-method -->

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(user, password, host=Heroku::Auth.default_host)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span>, <span class="ruby-identifier">host</span>=<span class="ruby-constant">Heroku</span><span class="ruby-operator">::</span><span class="ruby-constant">Auth</span>.<span class="ruby-identifier">default_host</span>)
  <span class="ruby-ivar">@user</span> = <span class="ruby-identifier">user</span>
  <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">password</span>
  <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">host</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
      <div id="method-c-version" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">version</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="version-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 23</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">version</span>
  <span class="ruby-constant">Heroku</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- version-source -->
          
        </div>

        

        
      </div><!-- version-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-add_collaborator" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_collaborator</span><span
            class="method-args">(app_name, email)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Invite a person by email address to collaborate on the app.</p>
          

          
          <div class="method-source-code" id="add_collaborator-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_collaborator</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">email</span>)
  <span class="ruby-identifier">xml</span>(<span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app_name}/collaborators&quot;</span>, { <span class="ruby-string">'collaborator[email]'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">email</span> }).<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- add_collaborator-source -->
          
        </div>

        

        
      </div><!-- add_collaborator-method -->

    
      <div id="method-i-add_config_vars" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_config_vars</span><span
            class="method-args">(app_name, new_vars)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="add_config_vars-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 456</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_config_vars</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">new_vars</span>)
  <span class="ruby-identifier">put</span>(<span class="ruby-node">&quot;/apps/#{app_name}/config_vars&quot;</span>, <span class="ruby-identifier">json_encode</span>(<span class="ruby-identifier">new_vars</span>), <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:json</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- add_config_vars-source -->
          
        </div>

        

        
      </div><!-- add_config_vars-method -->

    
      <div id="method-i-add_domain" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_domain</span><span
            class="method-args">(app_name, domain)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="add_domain-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_domain</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">domain</span>)
  <span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app_name}/domains&quot;</span>, <span class="ruby-identifier">domain</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- add_domain-source -->
          
        </div>

        

        
      </div><!-- add_domain-method -->

    
      <div id="method-i-add_drain" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_drain</span><span
            class="method-args">(app_name, url)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="add_drain-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 424</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_drain</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">url</span>)
  <span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app_name}/logs/drains&quot;</span>, <span class="ruby-node">&quot;url=#{url}&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- add_drain-source -->
          
        </div>

        

        
      </div><!-- add_drain-method -->

    
      <div id="method-i-add_key" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_key</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Add an ssh public key to the current user.</p>
          

          
          <div class="method-source-code" id="add_key-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_key</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">post</span>(<span class="ruby-string">&quot;/user/keys&quot;</span>, <span class="ruby-identifier">key</span>, { <span class="ruby-string">'Content-Type'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'text/ssh-authkey'</span> }).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- add_key-source -->
          
        </div>

        

        
      </div><!-- add_key-method -->

    
      <div id="method-i-add_ssl" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_ssl</span><span
            class="method-args">(app_name, pem, key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="add_ssl-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 140</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_ssl</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">pem</span>, <span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">json_decode</span>(<span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app_name}/ssl&quot;</span>, <span class="ruby-value">:pem</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">pem</span>, <span class="ruby-value">:key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">key</span>).<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- add_ssl-source -->
          
        </div>

        

        
      </div><!-- add_ssl-method -->

    
      <div id="method-i-addons" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">addons</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="addons-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 468</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">addons</span>
  <span class="ruby-identifier">json_decode</span> <span class="ruby-identifier">get</span>(<span class="ruby-string">&quot;/addons&quot;</span>, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'application/json'</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- addons-source -->
          
        </div>

        

        
      </div><!-- addons-method -->

    
      <div id="method-i-bounce" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bounce</span><span
            class="method-args">(app_name, upid)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Bounce a service.</p>
          

          
          <div class="method-source-code" id="bounce-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 353</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bounce</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">upid</span>)
  <span class="ruby-identifier">service</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">upid</span>).<span class="ruby-identifier">bounce</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- bounce-source -->
          
        </div>

        

        
      </div><!-- bounce-method -->

    
      <div id="method-i-clear_config_vars" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear_config_vars</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="clear_config_vars-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 464</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear_config_vars</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/config_vars&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- clear_config_vars-source -->
          
        </div>

        

        
      </div><!-- clear_config_vars-method -->

    
      <div id="method-i-clear_ssl" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">clear_ssl</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="clear_ssl-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear_ssl</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/ssl&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- clear_ssl-source -->
          
        </div>

        

        
      </div><!-- clear_ssl-method -->

    
      <div id="method-i-config_vars" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">config_vars</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="config_vars-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 452</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">config_vars</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">json_decode</span> <span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}/config_vars&quot;</span>, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:json</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- config_vars-source -->
          
        </div>

        

        
      </div><!-- config_vars-method -->

    
      <div id="method-i-confirm_billing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">confirm_billing</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="confirm_billing-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 534</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">confirm_billing</span>
  <span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/user/#{escape(@user)}/confirm_billing&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- confirm_billing-source -->
          
        </div>

        

        
      </div><!-- confirm_billing-method -->

    
      <div id="method-i-console" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">console</span><span
            class="method-args">(app_name, cmd=nil) { |console_session| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Execute a one-off console command, or start a new console tty session if
cmd is nil.</p>
          

          
          <div class="method-source-code" id="console-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 210</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">console</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">cmd</span>=<span class="ruby-keyword">nil</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">id</span> = <span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app_name}/consoles&quot;</span>).<span class="ruby-identifier">to_s</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-constant">ConsoleSession</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">app_name</span>, <span class="ruby-keyword">self</span>)
      <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/consoles/#{id}&quot;</span>).<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">run_console_command</span>(<span class="ruby-node">&quot;/apps/#{app_name}/console&quot;</span>, <span class="ruby-identifier">cmd</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">RestClient</span><span class="ruby-operator">::</span><span class="ruby-constant">BadGateway</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span>(<span class="ruby-constant">AppCrashed</span>, <span class="ruby-string">&quot;Unable to attach to a dyno to open a console session.
Your application may have crashed.
Check the output of &quot;heroku ps&quot; and &quot;heroku logs&quot; for more information.
&quot;</span>)
  <span class="ruby-keyword">end</span></pre>
          </div><!-- console-source -->
          
        </div>

        

        
      </div><!-- console-method -->

    
      <div id="method-i-create" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create</span><span
            class="method-args">(name=nil, options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Create a new app, with an optional name.</p>
          

          
          <div class="method-source-code" id="create-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create</span>(<span class="ruby-identifier">name</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">create_request</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">create_complete?</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">sleep</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- create-source -->
          
        </div>

        

        
      </div><!-- create-method -->

    
      <div id="method-i-create_complete-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_complete?</span><span
            class="method-args">(name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="create_complete-3F-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_complete?</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">put</span>(<span class="ruby-node">&quot;/apps/#{name}/status&quot;</span>, {}).<span class="ruby-identifier">code</span> <span class="ruby-operator">==</span> <span class="ruby-value">201</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- create_complete-3F-source -->
          
        </div>

        

        
      </div><!-- create_complete-3F-method -->

    
      <div id="method-i-create_request" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_request</span><span
            class="method-args">(name=nil, options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="create_request-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_request</span>(<span class="ruby-identifier">name</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:name</span>] = <span class="ruby-identifier">name</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>
  <span class="ruby-identifier">xml</span>(<span class="ruby-identifier">post</span>(<span class="ruby-string">'/apps'</span>, <span class="ruby-value">:app</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>).<span class="ruby-identifier">to_s</span>).<span class="ruby-identifier">elements</span>[<span class="ruby-string">&quot;//app/name&quot;</span>].<span class="ruby-identifier">text</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- create_request-source -->
          
        </div>

        

        
      </div><!-- create_request-method -->

    
      <div id="method-i-cron_logs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cron_logs</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fetch recent cron logs from the app server.</p>
          

          
          <div class="method-source-code" id="cron_logs-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 369</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cron_logs</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}/cron_logs&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- cron_logs-source -->
          
        </div>

        

        
      </div><!-- cron_logs-method -->

    
      <div id="method-i-database_reset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">database_reset</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="database_reset-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 493</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">database_reset</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app_name}/database/reset&quot;</span>, <span class="ruby-string">''</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- database_reset-source -->
          
        </div>

        

        
      </div><!-- database_reset-method -->

    
      <div id="method-i-database_session" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">database_session</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="database_session-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 489</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">database_session</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">json_decode</span>(<span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app_name}/database/session2&quot;</span>, <span class="ruby-string">''</span>, <span class="ruby-value">:x_taps_version</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-operator">::</span><span class="ruby-constant">Taps</span>.<span class="ruby-identifier">version</span>).<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- database_session-source -->
          
        </div>

        

        
      </div><!-- database_session-method -->

    
      <div id="method-i-destroy" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">destroy</span><span
            class="method-args">(name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Destroy the app permanently.</p>
          

          
          <div class="method-source-code" id="destroy-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 90</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">destroy</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{name}&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- destroy-source -->
          
        </div>

        

        
      </div><!-- destroy-method -->

    
      <div id="method-i-down" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">down</span><span
            class="method-args">(app_name, upid)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Bring a service down.</p>
          

          
          <div class="method-source-code" id="down-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 348</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">down</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">upid</span>)
  <span class="ruby-identifier">service</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">upid</span>).<span class="ruby-identifier">down</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- down-source -->
          
        </div>

        

        
      </div><!-- down-method -->

    
      <div id="method-i-downgrade_addon" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">downgrade_addon</span><span
            class="method-args">(app_name, addon, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Client.html#method-i-upgrade_addon">upgrade_addon</a>
        </div>
        
      </div><!-- downgrade_addon-method -->

    
      <div id="method-i-dynos" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dynos</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="dynos-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 432</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dynos</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">xml</span>(<span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}&quot;</span>).<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">elements</span>[<span class="ruby-string">&quot;//app/dynos&quot;</span>].<span class="ruby-identifier">text</span>.<span class="ruby-identifier">to_i</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- dynos-source -->
          
        </div>

        

        
      </div><!-- dynos-method -->

    
      <div id="method-i-extract_warning" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extract_warning</span><span
            class="method-args">(response)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="extract_warning-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 586</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">extract_warning</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">response</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_heroku_warning</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@warning_callback</span>
    <span class="ruby-identifier">warning</span> = <span class="ruby-identifier">response</span>.<span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_heroku_warning</span>]
    <span class="ruby-ivar">@displayed_warnings</span> <span class="ruby-operator">||=</span> {}
    <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@displayed_warnings</span>[<span class="ruby-identifier">warning</span>]
      <span class="ruby-ivar">@warning_callback</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">warning</span>)
      <span class="ruby-ivar">@displayed_warnings</span>[<span class="ruby-identifier">warning</span>] = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- extract_warning-source -->
          
        </div>

        

        
      </div><!-- extract_warning-method -->

    
      <div id="method-i-httpcache_purge" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">httpcache_purge</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="httpcache_purge-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 502</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">httpcache_purge</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/httpcache&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- httpcache_purge-source -->
          
        </div>

        

        
      </div><!-- httpcache_purge-method -->

    
      <div id="method-i-info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">info</span><span
            class="method-args">(name_or_domain)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Show info such as mode, custom domain, and collaborators on an app.</p>
          

          
          <div class="method-source-code" id="info-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">info</span>(<span class="ruby-identifier">name_or_domain</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;name_or_domain is required for info&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">name_or_domain</span>
  <span class="ruby-identifier">name_or_domain</span> = <span class="ruby-identifier">name_or_domain</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r^(http:\/\/)?(www\.)?/</span>, <span class="ruby-string">''</span>)
  <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">xml</span>(<span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{name_or_domain}&quot;</span>).<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">attrs</span> = <span class="ruby-identifier">hash_from_xml_doc</span>(<span class="ruby-identifier">doc</span>)[<span class="ruby-value">:app</span>]
  <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:collaborators</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">list_collaborators</span>(<span class="ruby-identifier">attrs</span>[<span class="ruby-value">:name</span>]))
  <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:addons</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">installed_addons</span>(<span class="ruby-identifier">attrs</span>[<span class="ruby-value">:name</span>]))
<span class="ruby-keyword">end</span></pre>
          </div><!-- info-source -->
          
        </div>

        

        
      </div><!-- info-method -->

    
      <div id="method-i-install_addon" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">install_addon</span><span
            class="method-args">(app_name, addon, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="install_addon-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 476</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">install_addon</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">addon</span>, <span class="ruby-identifier">config</span>={})
  <span class="ruby-identifier">configure_addon</span> <span class="ruby-value">:install</span>, <span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">addon</span>, <span class="ruby-identifier">config</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- install_addon-source -->
          
        </div>

        

        
      </div><!-- install_addon-method -->

    
      <div id="method-i-installed_addons" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">installed_addons</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="installed_addons-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 472</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">installed_addons</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">json_decode</span> <span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}/addons&quot;</span>, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'application/json'</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- installed_addons-source -->
          
        </div>

        

        
      </div><!-- installed_addons-method -->

    
      <div id="method-i-keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">keys</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get the list of ssh public keys for the current user.</p>
          

          
          <div class="method-source-code" id="keys-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 153</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">keys</span>
  <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">xml</span> <span class="ruby-identifier">get</span>(<span class="ruby-string">'/user/keys'</span>).<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">elements</span>.<span class="ruby-identifier">to_a</span>(<span class="ruby-string">'//keys/key'</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">key</span>.<span class="ruby-identifier">elements</span>[<span class="ruby-string">'contents'</span>].<span class="ruby-identifier">text</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- keys-source -->
          
        </div>

        

        
      </div><!-- keys-method -->

    
      <div id="method-i-list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">list</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Show a list of apps which you are a collaborator on.</p>
          

          
          <div class="method-source-code" id="list-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 45</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">list</span>
  <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">xml</span>(<span class="ruby-identifier">get</span>(<span class="ruby-string">'/apps'</span>).<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">elements</span>.<span class="ruby-identifier">to_a</span>(<span class="ruby-string">&quot;//apps/app&quot;</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">elements</span>.<span class="ruby-identifier">to_a</span>(<span class="ruby-string">&quot;name&quot;</span>).<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">owner</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">elements</span>.<span class="ruby-identifier">to_a</span>(<span class="ruby-string">&quot;owner&quot;</span>).<span class="ruby-identifier">first</span>
    [<span class="ruby-identifier">name</span>.<span class="ruby-identifier">text</span>, <span class="ruby-identifier">owner</span>.<span class="ruby-identifier">text</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- list-source -->
          
        </div>

        

        
      </div><!-- list-method -->

    
      <div id="method-i-list_collaborators" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">list_collaborators</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get a list of collaborators on the app, returns an array of hashes each
with :email</p>
          

          
          <div class="method-source-code" id="list_collaborators-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">list_collaborators</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">xml</span>(<span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}/collaborators&quot;</span>).<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">elements</span>.<span class="ruby-identifier">to_a</span>(<span class="ruby-string">&quot;//collaborators/collaborator&quot;</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
    { <span class="ruby-value">:email</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">elements</span>[<span class="ruby-string">'email'</span>].<span class="ruby-identifier">text</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- list_collaborators-source -->
          
        </div>

        

        
      </div><!-- list_collaborators-method -->

    
      <div id="method-i-list_domains" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">list_domains</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="list_domains-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 112</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">list_domains</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">xml</span>(<span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}/domains&quot;</span>).<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">elements</span>.<span class="ruby-identifier">to_a</span>(<span class="ruby-string">&quot;//domain-names/*&quot;</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">attrs</span> = { <span class="ruby-value">:domain</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">elements</span>[<span class="ruby-string">'domain'</span>].<span class="ruby-identifier">text</span> }
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">cert</span> = <span class="ruby-identifier">d</span>.<span class="ruby-identifier">elements</span>[<span class="ruby-string">'cert'</span>]
      <span class="ruby-identifier">attrs</span>[<span class="ruby-value">:cert</span>] = {
        <span class="ruby-value">:expires_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">cert</span>.<span class="ruby-identifier">elements</span>[<span class="ruby-string">'expires-at'</span>].<span class="ruby-identifier">text</span>),
        <span class="ruby-value">:subject</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">cert</span>.<span class="ruby-identifier">elements</span>[<span class="ruby-string">'subject'</span>].<span class="ruby-identifier">text</span>,
        <span class="ruby-value">:issuer</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">cert</span>.<span class="ruby-identifier">elements</span>[<span class="ruby-string">'issuer'</span>].<span class="ruby-identifier">text</span>,
      }
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">attrs</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- list_domains-source -->
          
        </div>

        

        
      </div><!-- list_domains-method -->

    
      <div id="method-i-list_drains" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">list_drains</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="list_drains-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 420</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">list_drains</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}/logs/drains&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- list_drains-source -->
          
        </div>

        

        
      </div><!-- list_drains-method -->

    
      <div id="method-i-list_stacks" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">list_stacks</span><span
            class="method-args">(app_name, options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get a list of stacks available to the app, with the current one marked.</p>
          

          
          <div class="method-source-code" id="list_stacks-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">list_stacks</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">include_deprecated</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:include_deprecated</span>) <span class="ruby-operator">||</span> <span class="ruby-keyword">false</span>

  <span class="ruby-identifier">json_decode</span> <span class="ruby-identifier">resource</span>(<span class="ruby-node">&quot;/apps/#{app_name}/stack&quot;</span>).<span class="ruby-identifier">get</span>(
    <span class="ruby-value">:params</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:include_deprecated</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">include_deprecated</span> },
    <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'application/json'</span>
  ).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- list_stacks-source -->
          
        </div>

        

        
      </div><!-- list_stacks-method -->

    
      <div id="method-i-logs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">logs</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fetch recent logs from the app server.</p>
          

          
          <div class="method-source-code" id="logs-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 364</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">logs</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}/logs&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- logs-source -->
          
        </div>

        

        
      </div><!-- logs-method -->

    
      <div id="method-i-maintenance" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">maintenance</span><span
            class="method-args">(app_name, mode)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="maintenance-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 497</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">maintenance</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">mode</span>)
  <span class="ruby-identifier">mode</span> = <span class="ruby-identifier">mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:on</span> <span class="ruby-operator">?</span> <span class="ruby-string">'1'</span> <span class="ruby-operator">:</span> <span class="ruby-string">'0'</span>
  <span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app_name}/server/maintenance&quot;</span>, <span class="ruby-value">:maintenance_mode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">mode</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- maintenance-source -->
          
        </div>

        

        
      </div><!-- maintenance-method -->

    
      <div id="method-i-migrate_to_stack" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">migrate_to_stack</span><span
            class="method-args">(app_name, stack)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Request a stack migration.</p>
          

          
          <div class="method-source-code" id="migrate_to_stack-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">migrate_to_stack</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">stack</span>)
  <span class="ruby-identifier">resource</span>(<span class="ruby-node">&quot;/apps/#{app_name}/stack&quot;</span>).<span class="ruby-identifier">put</span>(<span class="ruby-identifier">stack</span>, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'text/plain'</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- migrate_to_stack-source -->
          
        </div>

        

        
      </div><!-- migrate_to_stack-method -->

    
      <div id="method-i-on_warning" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">on_warning</span><span
            class="method-args">(&blk)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="on_warning-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 538</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_warning</span>(&amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-ivar">@warning_callback</span> = <span class="ruby-identifier">blk</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- on_warning-source -->
          
        </div>

        

        
      </div><!-- on_warning-method -->

    
      <div id="method-i-process" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">process</span><span
            class="method-args">(method, uri, extra_headers={}, payload=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="process-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 566</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">uri</span>, <span class="ruby-identifier">extra_headers</span>={}, <span class="ruby-identifier">payload</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">headers</span>  = <span class="ruby-identifier">heroku_headers</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">extra_headers</span>)
  <span class="ruby-identifier">args</span>     = [<span class="ruby-identifier">method</span>, <span class="ruby-identifier">payload</span>, <span class="ruby-identifier">headers</span>].<span class="ruby-identifier">compact</span>

  <span class="ruby-identifier">resource_options</span> = <span class="ruby-identifier">default_resource_options_for_uri</span>(<span class="ruby-identifier">uri</span>)

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">resource</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">resource_options</span>).<span class="ruby-identifier">send</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ECONNREFUSED</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ETIMEDOUT</span>, <span class="ruby-constant">SocketError</span>
    <span class="ruby-identifier">host</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">realize_full_uri</span>(<span class="ruby-identifier">uri</span>)).<span class="ruby-identifier">host</span>
    <span class="ruby-identifier">error</span> <span class="ruby-node">&quot;Unable to connect to #{host}&quot;</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">RestClient</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLCertificateNotVerified</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-identifier">host</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">realize_full_uri</span>(<span class="ruby-identifier">uri</span>)).<span class="ruby-identifier">host</span>
    <span class="ruby-identifier">error</span> <span class="ruby-node">&quot;WARNING: Unable to verify SSL certificate for #{host}\nTo disable SSL verification, run with HEROKU_SSL_VERIFY=disable&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">extract_warning</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-identifier">response</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- process-source -->
          
        </div>

        

        
      </div><!-- process-method -->

    
      <div id="method-i-ps" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ps</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Retreive ps list for the given app name.</p>
          

          
          <div class="method-source-code" id="ps-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 327</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ps</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">json_decode</span> <span class="ruby-identifier">resource</span>(<span class="ruby-node">&quot;/apps/#{app_name}/ps&quot;</span>).<span class="ruby-identifier">get</span>(<span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'application/json'</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ps-source -->
          
        </div>

        

        
      </div><!-- ps-method -->

    
      <div id="method-i-ps_restart" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ps_restart</span><span
            class="method-args">(app, opts={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="ps_restart-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 526</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ps_restart</span>(<span class="ruby-identifier">app</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app}/ps/restart&quot;</span>, <span class="ruby-identifier">opts</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- ps_restart-source -->
          
        </div>

        

        
      </div><!-- ps_restart-method -->

    
      <div id="method-i-ps_run" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ps_run</span><span
            class="method-args">(app, opts={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="ps_run-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 518</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ps_run</span>(<span class="ruby-identifier">app</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">json_decode</span> <span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app}/ps&quot;</span>, <span class="ruby-identifier">opts</span>, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:json</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ps_run-source -->
          
        </div>

        

        
      </div><!-- ps_run-method -->

    
      <div id="method-i-ps_scale" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ps_scale</span><span
            class="method-args">(app, opts={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="ps_scale-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 522</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ps_scale</span>(<span class="ruby-identifier">app</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-constant">Integer</span>(<span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app}/ps/scale&quot;</span>, <span class="ruby-identifier">opts</span>).<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- ps_scale-source -->
          
        </div>

        

        
      </div><!-- ps_scale-method -->

    
      <div id="method-i-ps_stop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ps_stop</span><span
            class="method-args">(app, opts={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="ps_stop-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 530</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ps_stop</span>(<span class="ruby-identifier">app</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app}/ps/stop&quot;</span>, <span class="ruby-identifier">opts</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- ps_stop-source -->
          
        </div>

        

        
      </div><!-- ps_stop-method -->

    
      <div id="method-i-rake" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rake</span><span
            class="method-args">(app_name, cmd)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Run a rake command on the <a href="../Heroku.html">Heroku</a> app and
return all output as a string.</p>
          

          
          <div class="method-source-code" id="rake-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 194</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rake</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">cmd</span>)
  <span class="ruby-identifier">start</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-node">&quot;rake #{cmd}&quot;</span>, <span class="ruby-value">:attached</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- rake-source -->
          
        </div>

        

        
      </div><!-- rake-method -->

    
      <div id="method-i-read_logs" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">read_logs</span><span
            class="method-args">(app_name, options=[]) { |chunk| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="read_logs-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 373</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">read_logs</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">options</span>=[])
  <span class="ruby-identifier">query</span> = <span class="ruby-string">&quot;&amp;&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;&amp;&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}/logs?logplex=true#{query}&quot;</span>).<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">url</span> <span class="ruby-operator">==</span> <span class="ruby-string">'Use old logs'</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}/logs&quot;</span>).<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">uri</span>  = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">url</span>);

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">==</span> <span class="ruby-string">'https'</span>
      <span class="ruby-identifier">proxy</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">'HTTPS_PROXY'</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">'https_proxy'</span>]
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">proxy</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">'HTTP_PROXY'</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">'http_proxy'</span>]
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-regexp">%r^[^:]+:\/\//</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">proxy</span>
        <span class="ruby-identifier">proxy</span> = <span class="ruby-string">&quot;http://&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">proxy</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">proxy</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">proxy</span>)
      <span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>, <span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">port</span>, <span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">proxy</span>.<span class="ruby-identifier">password</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">==</span> <span class="ruby-string">'https'</span>
      <span class="ruby-identifier">http</span>.<span class="ruby-identifier">use_ssl</span> = <span class="ruby-keyword">true</span>
      <span class="ruby-identifier">http</span>.<span class="ruby-identifier">verify_mode</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_NONE</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-value">60</span> * <span class="ruby-value">60</span> * <span class="ruby-value">24</span>

    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span> <span class="ruby-keyword">do</span>
        <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">query</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;?&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">query</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>)) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">request</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">request</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">chunk</span><span class="ruby-operator">|</span>
            <span class="ruby-keyword">yield</span> <span class="ruby-identifier">chunk</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ECONNREFUSED</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ETIMEDOUT</span>, <span class="ruby-constant">SocketError</span>
      <span class="ruby-identifier">error</span>(<span class="ruby-string">&quot;Could not connect to logging service&quot;</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Timeout</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>, <span class="ruby-constant">EOFError</span>
      <span class="ruby-identifier">error</span>(<span class="ruby-string">&quot;\nRequest timed out&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- read_logs-source -->
          
        </div>

        

        
      </div><!-- read_logs-method -->

    
      <div id="method-i-release" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">release</span><span
            class="method-args">(app, release)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="release-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 510</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">release</span>(<span class="ruby-identifier">app</span>, <span class="ruby-identifier">release</span>)
  <span class="ruby-identifier">json_decode</span> <span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app}/releases/#{release}&quot;</span>, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:json</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- release-source -->
          
        </div>

        

        
      </div><!-- release-method -->

    
      <div id="method-i-releases" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">releases</span><span
            class="method-args">(app)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="releases-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 506</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">releases</span>(<span class="ruby-identifier">app</span>)
  <span class="ruby-identifier">json_decode</span> <span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app}/releases&quot;</span>, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:json</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- releases-source -->
          
        </div>

        

        
      </div><!-- releases-method -->

    
      <div id="method-i-remove_all_keys" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_all_keys</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Clear all keys on the current user.</p>
          

          
          <div class="method-source-code" id="remove_all_keys-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 171</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_all_keys</span>
  <span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;/user/keys&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_all_keys-source -->
          
        </div>

        

        
      </div><!-- remove_all_keys-method -->

    
      <div id="method-i-remove_collaborator" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_collaborator</span><span
            class="method-args">(app_name, email)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove a collaborator.</p>
          

          
          <div class="method-source-code" id="remove_collaborator-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_collaborator</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">email</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/collaborators/#{escape(email)}&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_collaborator-source -->
          
        </div>

        

        
      </div><!-- remove_collaborator-method -->

    
      <div id="method-i-remove_config_var" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_config_var</span><span
            class="method-args">(app_name, key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="remove_config_var-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 460</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_config_var</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/config_vars/#{escape(key)}&quot;</span>, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:json</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_config_var-source -->
          
        </div>

        

        
      </div><!-- remove_config_var-method -->

    
      <div id="method-i-remove_domain" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_domain</span><span
            class="method-args">(app_name, domain)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="remove_domain-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 131</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_domain</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">domain</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;invalid domain: #{domain.inspect}&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">domain</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/domains/#{domain}&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_domain-source -->
          
        </div>

        

        
      </div><!-- remove_domain-method -->

    
      <div id="method-i-remove_domains" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_domains</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="remove_domains-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 136</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_domains</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/domains&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_domains-source -->
          
        </div>

        

        
      </div><!-- remove_domains-method -->

    
      <div id="method-i-remove_drain" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_drain</span><span
            class="method-args">(app_name, url)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="remove_drain-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 428</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_drain</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">url</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/logs/drains?url=#{URI.escape(url)}&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_drain-source -->
          
        </div>

        

        
      </div><!-- remove_drain-method -->

    
      <div id="method-i-remove_key" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_key</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove an existing ssh public key from the current user.</p>
          

          
          <div class="method-source-code" id="remove_key-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_key</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/user/keys/#{escape(key)}&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_key-source -->
          
        </div>

        

        
      </div><!-- remove_key-method -->

    
      <div id="method-i-remove_ssl" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_ssl</span><span
            class="method-args">(app_name, domain)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="remove_ssl-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 144</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_ssl</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">domain</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/domains/#{domain}/ssl&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_ssl-source -->
          
        </div>

        

        
      </div><!-- remove_ssl-method -->

    
      <div id="method-i-resource" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">resource</span><span
            class="method-args">(uri, options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="resource-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 544</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">resource</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">'HTTP_PROXY'</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">'http_proxy'</span>]
  <span class="ruby-identifier">resource</span> = <span class="ruby-constant">RestClient</span><span class="ruby-operator">::</span><span class="ruby-constant">Resource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">realize_full_uri</span>(<span class="ruby-identifier">uri</span>), <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:user</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user</span>, <span class="ruby-value">:password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">password</span>))
  <span class="ruby-identifier">resource</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- resource-source -->
          
        </div>

        

        
      </div><!-- resource-method -->

    
      <div id="method-i-restart" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">restart</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Restart the app servers.</p>
          

          
          <div class="method-source-code" id="restart-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 359</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">restart</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">delete</span>(<span class="ruby-node">&quot;/apps/#{app_name}/server&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- restart-source -->
          
        </div>

        

        
      </div><!-- restart-method -->

    
      <div id="method-i-rollback" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">rollback</span><span
            class="method-args">(app, release=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="rollback-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 514</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rollback</span>(<span class="ruby-identifier">app</span>, <span class="ruby-identifier">release</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">post</span>(<span class="ruby-node">&quot;/apps/#{app}/releases&quot;</span>, <span class="ruby-value">:rollback</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">release</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- rollback-source -->
          
        </div>

        

        
      </div><!-- rollback-method -->

    
      <div id="method-i-run_console_command" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">run_console_command</span><span
            class="method-args">(url, command, prefix=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>internal method to run console commands formatting the output</p>
          

          
          <div class="method-source-code" id="run_console_command-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 227</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">run_console_command</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">command</span>, <span class="ruby-identifier">prefix</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">output</span> = <span class="ruby-identifier">post</span>(<span class="ruby-identifier">url</span>, { <span class="ruby-value">:command</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">command</span> }, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;text/plain&quot;</span>).<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">output</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">prefix</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">output</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)
    <span class="ruby-identifier">lines</span>  = <span class="ruby-identifier">output</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>)
    (<span class="ruby-identifier">lines</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-2</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{prefix}#{lines.last}&quot;</span>).<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">prefix</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">output</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">RestClient</span><span class="ruby-operator">::</span><span class="ruby-constant">RequestFailed</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">http_code</span> <span class="ruby-operator">==</span> <span class="ruby-value">422</span>
    <span class="ruby-constant">Heroku</span><span class="ruby-operator">::</span><span class="ruby-constant">Command</span>.<span class="ruby-identifier">extract_error</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">http_body</span>, <span class="ruby-value">:raw</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- run_console_command-source -->
          
        </div>

        

        
      </div><!-- run_console_command-method -->

    
      <div id="method-i-service" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">service</span><span
            class="method-args">(app_name, upid)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get a <a href="Client/Service.html">Service</a> instance to execute
commands against.</p>
          

          
          <div class="method-source-code" id="service-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 338</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">service</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">upid</span>)
  <span class="ruby-constant">Service</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">upid</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- service-source -->
          
        </div>

        

        
      </div><!-- service-method -->

    
      <div id="method-i-set_dynos" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_dynos</span><span
            class="method-args">(app_name, qty)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Scales the web processes.</p>
          

          
          <div class="method-source-code" id="set_dynos-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 443</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_dynos</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">qty</span>)
  <span class="ruby-identifier">put</span>(<span class="ruby-node">&quot;/apps/#{app_name}/dynos&quot;</span>, <span class="ruby-value">:dynos</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">qty</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- set_dynos-source -->
          
        </div>

        

        
      </div><!-- set_dynos-method -->

    
      <div id="method-i-set_workers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_workers</span><span
            class="method-args">(app_name, qty)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Scales the background processes.</p>
          

          
          <div class="method-source-code" id="set_workers-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 448</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_workers</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">qty</span>)
  <span class="ruby-identifier">put</span>(<span class="ruby-node">&quot;/apps/#{app_name}/workers&quot;</span>, <span class="ruby-value">:workers</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">qty</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- set_workers-source -->
          
        </div>

        

        
      </div><!-- set_workers-method -->

    
      <div id="method-i-start" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">start</span><span
            class="method-args">(app_name, command, attached=false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Run a service. If Responds to each and yields output as it's received.</p>
          

          
          <div class="method-source-code" id="start-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 332</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">start</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">command</span>, <span class="ruby-identifier">attached</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">service</span> = <span class="ruby-constant">Service</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">service</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">command</span>, <span class="ruby-identifier">attached</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- start-source -->
          
        </div>

        

        
      </div><!-- start-method -->

    
      <div id="method-i-uninstall_addon" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">uninstall_addon</span><span
            class="method-args">(app_name, addon, options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="uninstall_addon-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 485</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">uninstall_addon</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">addon</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">configure_addon</span> <span class="ruby-value">:uninstall</span>, <span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">addon</span>, <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- uninstall_addon-source -->
          
        </div>

        

        
      </div><!-- uninstall_addon-method -->

    
      <div id="method-i-up" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">up</span><span
            class="method-args">(app_name, upid)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Bring a service up.</p>
          

          
          <div class="method-source-code" id="up-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 343</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">up</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">upid</span>)
  <span class="ruby-identifier">service</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">upid</span>).<span class="ruby-identifier">up</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- up-source -->
          
        </div>

        

        
      </div><!-- up-method -->

    
      <div id="method-i-update" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">update</span><span
            class="method-args">(name, attributes)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Update an app.  Available attributes:</p>

<pre class="ruby">:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">rename</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">app</span> (<span class="ruby-identifier">changes</span> <span class="ruby-identifier">http</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">git</span> <span class="ruby-identifier">urls</span>)
</pre>
          

          
          <div class="method-source-code" id="update-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 85</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">put</span>(<span class="ruby-node">&quot;/apps/#{name}&quot;</span>, <span class="ruby-value">:app</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">attributes</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- update-source -->
          
        </div>

        

        
      </div><!-- update-method -->

    
      <div id="method-i-upgrade_addon" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">upgrade_addon</span><span
            class="method-args">(app_name, addon, config={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="upgrade_addon-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 480</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">upgrade_addon</span>(<span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">addon</span>, <span class="ruby-identifier">config</span>={})
  <span class="ruby-identifier">configure_addon</span> <span class="ruby-value">:upgrade</span>, <span class="ruby-identifier">app_name</span>, <span class="ruby-identifier">addon</span>, <span class="ruby-identifier">config</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- upgrade_addon-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Client.html#method-i-downgrade_addon">downgrade_addon</a>
        </div>
        

        
      </div><!-- upgrade_addon-method -->

    
      <div id="method-i-workers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">workers</span><span
            class="method-args">(app_name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="workers-source">
            <pre><span class="ruby-comment"># File lib/heroku/client.rb, line 437</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">workers</span>(<span class="ruby-identifier">app_name</span>)
  <span class="ruby-identifier">doc</span> = <span class="ruby-identifier">xml</span>(<span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/apps/#{app_name}&quot;</span>).<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">elements</span>[<span class="ruby-string">&quot;//app/workers&quot;</span>].<span class="ruby-identifier">text</span>.<span class="ruby-identifier">to_i</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- workers-source -->
          
        </div>

        

        
      </div><!-- workers-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

